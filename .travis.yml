language: node_js
node_js:
  - 12 # uses version 12
services:
  - postgresql # starts up postgres
addons:
  postgresql: '10' # recent postgres version on Travis
dist: xenial # uses xenial environment
notifications:
  email:
    on_success: change # default: change (only when going from broken to fixed)
    on_failure: always # default: always (which is annoying, as it should be)
install:
  - npm ci # faster, goes only from package-lock
before_deploy: # omit node_modules, since we set skip_cleanup below
  - rm -rf node_modules
deploy: # see README for details on these keys
  # prevents travis from deleting the build
  skip_cleanup: true
  provider: heroku
  # app should be your heroku app name; see README
  app: event-share
  # the secure key indicates an encrypted value; see README
  api_key:
    secure: tGvQN9b3XwRlda2O1xViot37QRgxlK5JXq5N4+lPIRQXs5KnZFP9ZL8mrRYRntyN2XvTL4keRaBBP82WHbKhoNRHbcTFMdNsu1sO+7AE8XGsOSaCGfpDyI+WqrYO9SDof36fz7kgPEyVrQaskTj/Y2lxKVgf9zD1MgLeAtDr2cQHYNnd2Nw6Tp9pLqEYnNRAQGTs4a7E4lNPTw+K6ZF5TSxGtvraCmcUfN+jX2uWTiWKBHWVLMwWb5Z+c27uff+CE1sLWZfsJt1Oc47kHqmL4+S/zIgTTXGoC3irrx+bnZOShdbpe4TBPpQn3X/ozMvcVE1EqqbSgLnt3XNdfmHTJimGg7nDZwjK5eXku9/vFB3TdCjVSPbq9s8Ig/vt/eXoQPhac63xFLbIiC/eMtoK3h0oaCXjHc2/MT3suVdz9VGE7Bv306SStO9Yme9qAwh6au/KCDALFd+hJ4xDf76adpUNQg+MxYr7MN/zcMHXF6Lrcg2/oYWZwUjEQUgApxLVP1zLmCTIQueOj64jTVlpu1AGSdZNPlLOwLjRzc97eKZ/yZ2gs2LGQgVRqQPaAjU9An/y/5+se1IkRRdhyGyF+ciEl5k4SvIYOnRPBzVVGuS0AjwHq+Qok/4wb/CnBPB8X5T23eU0VYzONqjy7UyzdpkRr6TZ0B+B7+qdZ1xh+b0=
